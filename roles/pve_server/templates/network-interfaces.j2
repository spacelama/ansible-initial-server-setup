# https://pve.proxmox.com/wiki/Network_Configuration

auto lo
iface lo inet loopback

iface eth0 inet manual

# machines with guest configured vlans can be attached to vmbr0.  If
# we go with enx$mac as a name, we end up with interface.vlan names
# beyond 15 characters.  If we use a name such as lan0, then it doesn't
# match proxmox preconceived ideas of what an interface name must look
# like, and we don't end up being able to pass vlan traffic through to a
# VM.  So we're following closely to advice here:
# https://forum.proxmox.com/threads/proxmox-network-interface-name-problems.92065/

auto vmbr0
iface vmbr0 inet static
	bridge-ports eth0
	bridge-stp off
	bridge-fd 0
	bridge-vlan-aware yes
	bridge-vids 2-4094
#All VLANs trunked

# possibly want native vlan untagged on switch: https://www.reddit.com/r/Proxmox/comments/iu24ld/vlan_trunking_on_a_single_interface/g5iwt4v/
auto vmbr0.5
iface vmbr0.5 inet static
	address 192.168.0.{{ inet_addr_suffix }}/24
#VLAN 5 MGMT

auto vmbr0.10
iface vmbr0.10 inet static
	address 192.168.1.{{ inet_addr_suffix }}/24
	gateway 192.168.1.254
#VLAN 10 LAN

auto vmbr0.30
iface vmbr0.30 inet static
	address 192.168.3.{{ inet_addr_suffix }}/24
#VLAN 30 GUEST

auto vmbr0.40
iface vmbr0.40 inet static
	address 192.168.4.{{ inet_addr_suffix }}/24
#VLAN 40 IOT

auto vmbr0.70
iface vmbr0.70 inet static
	address 192.168.7.{{ inet_addr_suffix }}/24
#VLAN 70 WINDOWS

#iface wlp5s0 inet manual
#iface eno2 inet manual
