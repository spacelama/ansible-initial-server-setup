#!/bin/sh

# while it would be nice to set LESSOPEN by default always for `less`,
# it interferes with the way we use `less` because LESSOPEN stops "F"
# (follow) keybinding etc from working, and highlight has filesize
# limitations

# no colouration when a filter because doesn't run:
#LESSOPEN="| highlight --out-format=truecolor %s" less "$@"
# ||- is so stdin filters not looking at direct files will stil work,
# and failure documented to result in original file being output
# (doesn't work):
#LESSOPEN="||- highlight --out-format=truecolor %s" less "$@"

#might work:
LESSOPEN="||- highlight_nofail %s" less "$@"
